{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.scss","components/Modal/Modal.module.scss","components/Container/Container.module.scss","components/Button/Button.module.scss","components/ImageGallery/ImageGallery.module.scss","components/Container/Container.js","components/Searchbar/Searchbar.js","services/api.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/Button/Button.js","components/Loader/Loader.js","components/ImageGallery/ImageGallery.js","App.js","reportWebVitals.js","index.js","components/Searchbar/Searchbar.module.scss"],"names":["module","exports","Container","children","className","styles","container","Searchbar","state","imageName","handleChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","alert","searchbar","searchForm","this","type","button","label","input","autoComplete","autoFocus","placeholder","onChange","Component","defaultProps","ApiService","query","pageNumber","perPage","a","fetch","response","json","parsedResponse","incrementPage","ImageGalleryItem","id","url","tags","largeImage","toggleModal","handleLargeImage","imageGallery","onClick","image","src","alt","propeType","PropTypes","number","isRequired","string","func","modalRoot","document","querySelector","Modal","onClose","handleKeydown","code","handleClickBackdrop","target","window","addEventListener","removeEventListener","createPortal","overlay","modal","Button","App","color","height","width","timeout","apiService","ImageGallery","images","showModal","error","loading","prevState","handleBtnClick","getImages","fetchImages","then","hits","catch","finally","prevProps","prevName","currentName","resetPage","scrollTo","top","documentElement","scrollHeight","behavior","map","webformatURL","largeImageURL","length","handleFormSubmit","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.04bb9dd0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"ImageGalleryItem_image__3wEzi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1-iTc\",\"modal\":\"Modal_modal__3eSm2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__12DbF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1HDkZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__fop3M\",\"imageGalleryItem\":\"ImageGallery_imageGalleryItem__3p_DV\"};","import PropTypes from 'prop-types';\r\nimport styles from './Container.module.scss';\r\n\r\nconst Container = ({ children }) => {\r\n  return <div className={styles.container}>{children}</div>;\r\n};\r\n\r\nContainer.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default Container;\r\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Searchbar.module.scss';\n\nexport default class Searchbar extends Component {\n  static defaultProps = {\n    imageName: '',\n  };\n\n  static propTypes = {\n    imageName: PropTypes.string,\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    imageName: '',\n  };\n\n  handleChange = event => {\n    this.setState({ imageName: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    if (this.state.imageName.trim() === '') {\n      alert('Введите точное название');\n      return;\n    }\n    this.props.onSubmit(this.state.imageName);\n    this.setState({ imageName: '' });\n  };\n\n  render() {\n    return (\n      <header className={styles.searchbar}>\n        <form className={styles.searchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.button}>\n            <span className={styles.label}>Search</span>\n          </button>\n          <input\n            className={styles.input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.imageName}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","const BASE_URL = 'https://pixabay.com';\nconst API_KEY = '21930090-2f4bfee534669e28d6350f360';\n\nexport default class ApiService {\n  constructor() {\n    this.query = '';\n    this.pageNumber = 1;\n    this.perPage = 12;\n  }\n\n  async fetchImages() {\n    const response = await fetch(\n      `${BASE_URL}/api/?image_type=photo&orientation=horizontal&q=${this.query}&page=${this.pageNumber}&per_page=${this.perPage}&key=${API_KEY}`,\n    );\n    const parsedResponse = await response.json();\n    this.incrementPage();\n    return parsedResponse;\n  }\n  incrementPage() {\n    this.pageNumber += 1;\n  }\n  resetPage() {\n    this.pageNumber = 1;\n  }\n}\n","import PropTypes from 'prop-types';\nimport styles from './ImageGalleryItem.module.scss';\n\nconst ImageGalleryItem = ({\n  id,\n  url,\n  tags,\n  largeImage,\n  toggleModal,\n  handleLargeImage,\n}) => {\n  const handleOpenModal = () => {\n    toggleModal();\n    handleLargeImage(largeImage);\n  };\n\n  return (\n    <li\n      className={styles.imageGallery}\n      key={id}\n      onClick={() => handleOpenModal()}\n    >\n      <img className={styles.image} src={url} alt={tags} />\n    </li>\n  );\n};\n\nImageGalleryItem.propeType = {\n  id: PropTypes.number.isRequired,\n  url: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  largeImage: PropTypes.string.isRequired,\n  toggleModal: PropTypes.func.isRequired,\n  handleLargeImage: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Modal.module.scss';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  PropTypes = {\r\n    onClose: PropTypes.func.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeydown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeydown);\r\n  }\r\n\r\n  handleKeydown = event => {\r\n    if (event.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleClickBackdrop = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={styles.overlay} onClick={this.handleClickBackdrop}>\r\n        <div className={styles.modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport styles from './Button.module.scss';\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button className={styles.button} type=\"button\" onClick={onClick}>\r\n      Load more...\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nexport default class App extends Component {\n  render() {\n    return (\n      <Loader\n        type=\"Bars\"\n        color=\"#FF8C00\"\n        height={300}\n        width={300}\n        timeout={2000}\n      />\n    );\n  }\n}\n","import { Component } from 'react';\nimport ApiService from '../../services/api';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport Modal from '../Modal';\nimport Button from '../Button';\nimport styles from './ImageGallery.module.scss';\nimport Loader from '../Loader';\n\nconst apiService = new ApiService();\n\nexport default class ImageGallery extends Component {\n  static propTypes = {\n    images: PropTypes.array,\n    showModal: PropTypes.bool,\n    largeImage: PropTypes.string,\n    error: PropTypes.string,\n    loading: PropTypes.bool,\n  };\n\n  state = {\n    images: [],\n    showModal: false,\n    largeImage: '',\n    error: null,\n    loading: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevName = prevProps.imageName;\n    const currentName = this.props.imageName;\n\n    if (prevName !== currentName) {\n      this.setState({ images: [] });\n      apiService.query = currentName;\n      apiService.resetPage();\n      this.getImages();\n    }\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  toggleModal = () => {\n    this.setState(prevState => ({\n      showModal: !prevState.showModal,\n    }));\n  };\n\n  handleLargeImage = image => {\n    this.setState({ largeImage: image });\n  };\n\n  handleBtnClick = () => {\n    this.getImages();\n  };\n\n  getImages = () => {\n    this.setState({ loading: true });\n\n    apiService\n      .fetchImages()\n      .then(({ hits }) =>\n        this.setState(prevState => ({\n          images: [...prevState.images, ...hits],\n        })),\n      )\n      .catch(error => {\n        this.setState({ error });\n      })\n      .finally(this.setState({ loading: false }));\n  };\n\n  render() {\n    const { showModal, loading, images, largeImage } = this.state;\n\n    return (\n      <>\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={largeImage} alt=\"images\" />\n          </Modal>\n        )}\n\n        <ul className={styles.imageGallery}>\n          {images.map(({ id, webformatURL, tags, largeImageURL }) => {\n            return (\n              <ImageGalleryItem\n                key={id}\n                url={webformatURL}\n                tags={tags}\n                largeImage={largeImageURL}\n                toggleModal={this.toggleModal}\n                handleLargeImage={this.handleLargeImage}\n              />\n            );\n          })}\n        </ul>\n        {images.length > 0 && !loading && (\n          <Button onClick={this.handleBtnClick} />\n        )}\n        {loading && (\n          <Loader\n            type=\"Bars\"\n            color=\"#FF8C00\"\n            height={300}\n            width={300}\n            timeout={1500}\n          />\n        )}\n      </>\n    );\n  }\n}\n","import { Component } from 'react';\nimport Container from './components/Container';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\n\nexport default class App extends Component {\n  state = {\n    imageName: '',\n  };\n\n  handleFormSubmit = imageName => {\n    this.setState({ imageName });\n  };\n\n  render() {\n    return (\n      <Container>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery imageName={this.state.imageName} />\n      </Container>\n    );\n  }\n}\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport '../node_modules/modern-normalize/modern-normalize.css';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__2hSHH\",\"searchForm\":\"Searchbar_searchForm__38wnK\",\"button\":\"Searchbar_button__1Ul5x\",\"label\":\"Searchbar_label__DXJl6\",\"input\":\"Searchbar_input__2poTW\"};"],"sourceRoot":""}